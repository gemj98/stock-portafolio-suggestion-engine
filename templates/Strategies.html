<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wealth Wise Strategies</title>
  <link rel="icon" href="static/logo/title.png" type="image/x-icon" >
  <link rel="stylesheet" href="static/styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">
      <img src="static/logo/logo.png" alt="Logo">
    </div>
    <nav>
      <ul>
        <li><a href="index.html#hero">Home</a></li>
        <li><a href="index.html#risk-levels">Blogs</a></li>
        <li><a href="index.html#investment-section">Stock Suggestor</a></li>
        <li><a href="index.html#customer-reviews">About</a></li>
        <li><a href="index.html#team-section">Team</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero-2">
  <div class="container">
    <h1>Unlocking the potential of strategic investing</h1>
    <p>Explore our in-depth analysis to make informed investment decisions.</p>
  </div>
</section>

<h1 style="color: #0f054b; text-align: center; margin-top: 20px; text-decoration: underline;">Current Prices</h1>
<section class="stock-data">
  <div class="container">
    <div class="row">
      <!-- Panel 1 -->
      <div class="stock-panel">
        <h2>AAPL</h2>
        <h4>Apple Inc</h4>
        <div class="stock-info">
          <h3>165.00</h3>
          <p class="change">−2.04 (1.22%)</p>
        </div>
      </div>
      <!-- Panel 2 -->
      <div class="stock-panel">
        <h2>NVDA</h2>
        <h4>NVIDIA Corp</h4>
        <div class="stock-info">
          <h3>762.00</h3>
          <p class="change">−84.71 (10.00%)</p>
        </div>
      </div>
      <!-- Panel 3 -->
      <div class="stock-panel">
        <h2>ADBE</h2>
        <h4>Adobe Inc</h4>
        <div class="stock-info">
          <h3>465.02</h3>
          <p class="change">−8.16 (1.72%)</p>
        </div>
      </div>
      <!-- Panel 4 -->
      <div class="stock-panel">
        <h2>BLK</h2>
        <h4>BlackRock Inc</h4>
        <div class="stock-info">
          <h3>749.98</h3>
          <p class="change">+2.68 (0.36%)</p>
        </div>
      </div>
      <!-- Panel 5 -->
      <div class="stock-panel">
        <h2>MS</h2>
        <h4>Morgan Stanley</h4>
        <div class="stock-info">
          <h3>90.66</h3>
          <p class="change">+0.40 (0.44%)</p>
        </div>
      </div>
      <!-- Panel 6 -->
      <div class="stock-panel">
        <h2>GS</h2>
        <h4>Goldman Sachs Group Inc</h4>
        <div class="stock-info">
          <h3>404.00</h3>
          <p class="change">+0.89 (0.22%)</p>
        </div>
      </div>
    </div>
    <!-- Repeat similar structure for the second row -->
  </div>
</section>

<h2 style="color: #CEB257; text-align: center; text-decoration: underline;">Analysis</h2>
<section class="pie-charts">
  <div class="pie-chart">
    <h3>Current Price Distribution</h3>
    <canvas id="chart1"></canvas>
  </div>
  <div class="pie-chart">
    <h3>Stock Allocation</h3>
    <canvas id="chart2"></canvas>
  </div>
</section>

<br><br>

<section class="line-charts">
  <div class="chart-container">
    <div class="chart">
      <h3>Weekly Portfolio Value</h3>
      <canvas id="column-chart"></canvas>
    </div>
    <div class="chart">
      <h3>Stocks Trends</h3>
      <canvas id="line-chart"></canvas>
    </div>
  </div>
</section>

<br><br>

<h2 style="color: #0f054b; text-align: center; margin-top: 20px; text-decoration: underline;">News Blogs</h2>
<section class="news-panels" style=" background-color: #0f054b;"> 
  <div class="news-widget">
    <!-- News items will be dynamically added here -->
  </div>
</section>



<div id="disclaimer-banner" class="disclaimer-banner">
  <div class="disclaimer-content">
    <p>Disclaimer: The content on this website is for informational purposes only and should not be considered as financial advice. All investment decisions are at your own risk.</p>
    <button id="close-banner">Close</button>
  </div>
</div>

</body>

<footer class="footer">
  <div class="container">
    <h2>Disclaimer: The content on this website is for informational purposes only and should not be considered as financial advice. All investment decisions are at your own risk.</h2>
    <p>&copy; 2024 CMPE 285. All rights reserved.</p>
  </div>
</footer>

</html>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

// Get the close button and disclaimer banner elements
const closeButton = document.getElementById('close-banner');
const disclaimerBanner = document.getElementById('disclaimer-banner');

// Add event listener to close button
closeButton.addEventListener('click', () => {
  // Hide the disclaimer banner
  disclaimerBanner.style.display = 'none';
});

// Select all elements with class 'change'
  const changeElements = document.querySelectorAll('.change');

  // Loop through each element
  changeElements.forEach(element => {
    // Get the text content (percentage change) and convert it to a number
    const changeValue = parseFloat(element.textContent);

    // Check if the change value is positive or negative
    if (changeValue > 0) {
      // If positive, add 'change' class
      element.classList.add('change');
    } else if (changeValue < 0) {
      // If negative, add 'negative' class
      element.classList.add('negative');
    }
    // If the change value is 0, you can choose to do nothing or apply a neutral class
  });


  document.addEventListener('DOMContentLoaded', function() {
  // Data for Pie Chart 1
  var data1 = {
    labels: ['AAPL', 'NVDA', 'ADBE', 'BLK', 'MS', "GS"],
    datasets: [{
      data: [165, 762, 465, 749, 90, 404],
      backgroundColor: ['#322063', '#503c7b', '#6e5994', '#e3cc91', '#e8d39f', '#eddaae']
    }]
  };

  // Data for Pie Chart 2
  var data2 = {
    labels: ['AAPL', 'NVDA', 'ADBE', 'BLK', 'MS', "GS"],
    datasets: [{
      data: [40, 30, 35, 15, 20, 10],
      backgroundColor: ['#8d78ae', '#ab98c8', '#cbbae3', '#d4b966', '#d9bf74', '#dec682']
    }]
  };

  // Options for Pie Charts
  var options = {
    // Add any options you want here
  };

  // Get canvas elements
  var ctx1 = document.getElementById('chart1').getContext('2d');
  var ctx2 = document.getElementById('chart2').getContext('2d');

  // Create Pie Charts
  var pieChart1 = new Chart(ctx1, {
    type: 'pie',
    data: data1,
    options: options
  });

  var pieChart2 = new Chart(ctx2, {
    type: 'doughnut',
    data: data2,
    options: options
  });
});

  
document.addEventListener('DOMContentLoaded', function() {
  // Line Chart Data
  var lineChartData = {
    labels: ['04/01', '04/02', '04/03', '04/04', '04/05'],
    datasets: [{
      label: 'AAPL',
      data: [171.19, 169.08, 168.79, 170.29, 169.59],
      borderColor: '#ef476f',
      fill: false
    },{
        label: 'NVDA',
        data: [902.99, 884.48, 884.84, 904.06, 868.66],
        borderColor: '#f78c6b',
        fill: false
    },{
        label: 'ADBE',
        data: [504.99, 494.40, 497.36, 503.56, 488.84],
        borderColor: '#ffd166',
        fill: false
    },{
        label: 'BLK',
        data: [834.98, 825.50, 815.45, 822.38, 793.63],
        borderColor: '#06d6a0',
        fill: false
    },{
        label: 'MS',
        data: [94.16, 92.90, 92.95, 94.20, 92.25],
        borderColor: '#118ab2',
        fill: false
    },{
        label: 'GS',
        data: [416.68, 410.74, 411.00, 418.00, 406.56],
        borderColor: '#073b4c',
        fill: false
    }]
  };

  // Stacked Column Chart Data
  var columnChartData = {
    labels: ['04/01', '04/02', '04/03', '04/04', '04/05'],
    datasets: [{
      label: 'AAPL',
      data: [171.19, 169.08, 168.79, 170.29, 169.59],
      backgroundColor: '#ef476f'
    },{
        label: 'NVDA',
        data: [902.99, 884.48, 884.84, 904.06, 868.66],
        backgroundColor: '#f78c6b'
    },{
        label: 'ADBE',
        data: [504.99, 494.40, 497.36, 503.56, 488.84],
        backgroundColor: '#ffd166'
    },{
        label: 'BLK',
        data: [834.98, 825.50, 815.45, 822.38, 793.63],
        backgroundColor: '#06d6a0'
    },{
        label: 'MS',
        data: [94.16, 92.90, 92.95, 94.20, 92.25],
        backgroundColor: '#118ab2'
    },{
        label: 'GS',
        data: [416.68, 410.74, 411.00, 418.00, 406.56],
        backgroundColor: '#073b4c'
    }]
  };

  // Line Chart Options
  var lineChartOptions = {
    // Add any options you want for the line chart
  };

  // Stacked Column Chart Options
  var columnChartOptions = {
    // Add any options you want for the stacked column chart
    scales: {
      x: {
        stacked: true // Enable stacking on the x-axis
      },
      y: {
        stacked: true // Enable stacking on the y-axis
      }
    }
  };

  // Get canvas elements
  var lineCtx = document.getElementById('line-chart').getContext('2d');
  var columnCtx = document.getElementById('column-chart').getContext('2d');

  // Create Line Chart
  var lineChart = new Chart(lineCtx, {
    type: 'line',
    data: lineChartData,
    options: lineChartOptions
  });

  // Create Stacked Column Chart
  var columnChart = new Chart(columnCtx, {
    type: 'bar',
    data: columnChartData,
    options: columnChartOptions
  });
});

//news api  check and open CORS but python should be able to handle and not js 
const apiKey = 'bfba112356d4433882100d632b80743b';
  const baseUrl = 'https://newsapi.org/v2/everything';
  const query = 'stocks'; // Your desired query
  
  async function fetchStockNews() {
    const url = `${baseUrl}?q=${query}&apiKey=${apiKey}&pageSize=6`; 
    try {
      const response = await fetch(url);
      console.log('API Response:', response);
      const data = await response.json();
      console.log('Data:', data);
      return data.articles;
    } catch (error) {
      console.error('Error fetching news:', error);
      return [];
    }
  }

  function createNewsItem(article) {
    const newsItem = document.createElement('div');
    newsItem.classList.add('news-item');
    const link = document.createElement('a');
    link.href = article.url;
    link.target = '_blank';
    const image = document.createElement('img');
    image.src = article.urlToImage;
    image.alt = 'Article Image';
    const title = document.createElement('h3');
    title.textContent = article.title;
    const description = document.createElement('p');
    description.textContent = article.description;
    link.appendChild(image);
    link.appendChild(title);
    link.appendChild(description);
    newsItem.appendChild(link);
    return newsItem;
  }

  async function displayNews() {
    const newsWidget = document.querySelector('.news-widget');
    const articles = await fetchStockNews();
    console.log('Articles:', articles);
    articles.forEach(article => {
    const newsItem = createNewsItem(article);
    newsWidget.appendChild(newsItem);
  });
}
  displayNews();

</script>
